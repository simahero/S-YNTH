{"version":3,"sources":["Components/Context/UserContext.js","Utils/Auth/AuthService.js","Components/Context/ThemeContext.js","Components/UI/LoadingScreen.js","Components/Auth/ProtectedRoute.js","App.js","index.js"],"names":["UserContext","React","createContext","UserProvider","Provider","Consumer","AuthService","username","password","axios","post","API_URL","then","res","data","token","localStorage","setItem","JSON","stringify","catch","error","removeItem","parse","getItem","ThemeContext","ThemeProvider","LoadingScreen","props","className","align","title","ProtectedRoute","Component","rest","context","useContext","render","isAuth","to","pathname","state","from","location","Home","lazy","Login","Logout","Dashboard","CampaignEdit","CampaignAnalytics","CampaignSend","TemplateEdit","App","toggleTheme","theme","setState","document","body","classList","add","remove","setAuth","logout","getPreferedTheme","window","matchMedia","getCurrentUser","this","savedTheme","value","fallback","exact","path","dashboard","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3f83e037.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst UserContext = React.createContext(true);\r\n\r\nexport const UserProvider = UserContext.Provider;\r\nexport const UserConsumer = UserContext.Consumer;\r\n\r\nexport default UserContext;","import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api/v1/auth';\r\n\r\nclass AuthService {\r\n\r\n    login(username, password){\r\n        return axios\r\n            .post(API_URL + '/login', {\r\n                username : username,\r\n                password: password\r\n            })\r\n            .then (res => {\r\n                if (res.data.token){\r\n                    localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n                }\r\n            return res.data;\r\n            }).catch (error => {\r\n                return(error);\r\n            })\r\n    }\r\n\r\n    logout(){\r\n        localStorage.removeItem(\"user\");\r\n    }\r\n\r\n    getCurrentUser () {\r\n        return (JSON.parse(localStorage.getItem(\"user\")));\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthService();","import React from 'react'\r\n\r\nconst ThemeContext = React.createContext(true);\r\n\r\nexport const ThemeProvider = ThemeContext.Provider;\r\nexport const ThemeConsumer = ThemeContext.Consumer;\r\n\r\nexport default ThemeContext;","import React from 'react';\r\n\r\nconst LoadingScreen = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"LoaderWrapper\">\r\n                    <span className=\"Loader\"><span className=\"LoaderInner\"></span></span>\r\n                    <h2 className=\"LoaderTitle\" align=\"center\">{props.title ? props.title : 'LOADING . . .' }</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingScreen;","import React, {useContext} from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport UserContext from '../Context/UserContext'\r\n\r\n\r\nconst ProtectedRoute = ( {Component, ...rest} ) => {\r\n\r\n    const context = useContext(UserContext);\r\n\r\n    return <Route {...rest} render={props => {\r\n        if (context.isAuth){\r\n            return <Component {...props} />\r\n        } else {\r\n            return <Redirect to={{pathname: '/', state: {from: props.location}}} />\r\n        }\r\n    }} />\r\n}\r\n\r\nexport default ProtectedRoute;","import React, { Suspense } from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport ProtectedRoute from './Components/Auth/ProtectedRoute';\r\n\r\nimport AuthService from './Utils/Auth/AuthService';\r\nimport { UserProvider } from './Components/Context/UserContext';\r\nimport { ThemeProvider } from './Components/Context/ThemeContext';\r\nimport LoadingScreen from './Components/UI/LoadingScreen';\r\n\r\nimport './Styles/styles.css';\r\n\r\nconst Home = React.lazy(() => import('./Components/Pages/Home/Home'))\r\nconst Login = React.lazy(() => import('./Components/Pages/Login/Login'))\r\nconst Logout = React.lazy(() => import('./Components/Pages/Login/Logout'))\r\nconst Dashboard = React.lazy(() => import('./Components/Pages/Dashboard/Dashboard'))\r\n\r\nconst CampaignEdit = React.lazy(() => import('./Components/Pages/SinglePages/Campaign/Edit'));\r\nconst CampaignAnalytics = React.lazy(() => import('./Components/Pages/SinglePages/Campaign/Analytics'))\r\nconst CampaignSend = React.lazy(() => import('./Components/Pages/SinglePages/Campaign/Send'));\r\n\r\nconst TemplateEdit = React.lazy(() => import('./Components/Pages/SinglePages/Template/Edit'))\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuth: true,\r\n      theme: 'light'\r\n    }\r\n  }\r\n\r\n  toggleTheme = () => {\r\n    if (this.state.theme === 'light') {\r\n      this.setState({ theme: 'dark' }, () => {\r\n        document.body.classList.add('dark')\r\n        document.body.classList.remove('light')\r\n      })\r\n      localStorage.setItem('theme', 'dark')\r\n    } else {\r\n      this.setState({ theme: 'light' }, () => {\r\n        document.body.classList.add('light')\r\n        document.body.classList.remove('dark')\r\n      })\r\n      localStorage.setItem('theme', 'light')\r\n    }\r\n  }\r\n\r\n  setAuth = (isAuth) => {\r\n    if (!isAuth) {\r\n      AuthService.logout();\r\n    }\r\n    this.setState({\r\n      isAuth: isAuth\r\n    })\r\n  }\r\n\r\n  getPreferedTheme = () => {\r\n    if (!window.matchMedia) return\r\n    return window.matchMedia(\"(prefers-color-scheme: dark)\")\r\n  }\r\n\r\n  componentDidMount() {\r\n    const user = AuthService.getCurrentUser();\r\n\r\n    if (user) {\r\n      this.setState({\r\n        isAuth: true\r\n      });\r\n    }\r\n\r\n    const savedTheme = localStorage.getItem('theme')\r\n\r\n    if ('theme' in localStorage) {\r\n      this.setState({ theme: savedTheme }, () => {\r\n        document.body.classList.add(savedTheme)\r\n      })\r\n    } else if (this.getPreferedTheme) {\r\n      this.setState({ theme: 'dark' }, () => {\r\n        document.body.classList.add('dark')\r\n      })\r\n    } else {\r\n      this.setState({ theme: 'light' }, () => {\r\n        document.body.classList.add('light')\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { theme } = this.state;\r\n    const { toggleTheme } = this;\r\n\r\n    const { isAuth } = this.state;\r\n    const { setAuth } = this;\r\n\r\n    return (\r\n      <ThemeProvider value={{ theme: theme, toggleTheme: toggleTheme }} >\r\n        <UserProvider value={{ isAuth: isAuth, setAuth: setAuth }}>\r\n\r\n            <Router>\r\n              <Suspense fallback={<LoadingScreen />}>\r\n                <Switch>\r\n\r\n                  <Route exact path=\"/\" render={(props) => <Home {...props} />} />\r\n                  <Route path=\"/login\" render={(props) => <Login {...props} />} />\r\n                  <Route path=\"/logout\" render={(props) => <Logout {...props} />} />\r\n\r\n                  {/* DASHBOARD ROUTES */}\r\n                  <ProtectedRoute path='/campaigns' Component={Dashboard} dashboard={'campaigns'} />\r\n                  <ProtectedRoute path='/templates' Component={Dashboard} dashboard={'templates'} />\r\n                  <ProtectedRoute path='/audience' Component={Dashboard} dashboard={'audience'} />\r\n                  <ProtectedRoute path='/automation' Component={Dashboard} dashboard={'automation'} />\r\n                  <ProtectedRoute path='/forms' Component={Dashboard} dashboard={'forms'} />\r\n                  <ProtectedRoute path='/analytics' Component={Dashboard} dashboard={'analytics'} />\r\n\r\n                  {/* SINGLE ROUTES */}\r\n                  <ProtectedRoute path='/campaign/edit' Component={CampaignEdit} />\r\n                  <ProtectedRoute path='/campaign/analytics' Component={CampaignAnalytics} />\r\n                  <ProtectedRoute path='/campaign/send' Component={CampaignSend} />\r\n\r\n                  <ProtectedRoute path='/template/edit' Component={TemplateEdit} />\r\n\r\n                </Switch>\r\n              </Suspense>\r\n            </Router>\r\n\r\n        </UserProvider>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}