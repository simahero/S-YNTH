{"version":3,"sources":["Components/Pages/Login/Login.js"],"names":["Login","props","signIn","e","a","preventDefault","AuthService","login","state","username","password","res","token","context","setAuth","setState","redirect","pathname","from","location","error","className","src","alt","this","to","boxshadow","placeholder","name","type","value","onChange","target","statepassword","onClick","React","Component","contextType","UserContext"],"mappings":"oQAQMA,G,yDAIF,WAAYC,GAAO,IAAD,8BACd,cAAMA,IASVC,OAVkB,uCAUT,WAAMC,GAAN,eAAAC,EAAA,6DACLD,EAAEE,iBADG,SAEWC,IAAYC,MAAM,EAAKC,MAAMC,SAAU,EAAKD,MAAME,UAF7D,QAEDC,EAFC,QAGGC,OACJ,EAAKC,QAAQC,SAAQ,GACrB,EAAKC,SAAS,CACVC,SAAU,CACNC,SAAU,uBACVT,MAAO,CAACU,KAAM,EAAKjB,MAAMkB,cAG1BR,EAAIS,OACX,EAAKL,SAAS,CACVK,OAAO,IAbV,2CAVS,sDAEd,EAAKZ,MAAQ,CACTC,SAAU,GACVC,SAAU,GACVU,MAAO,GACPJ,SAAU,IANA,E,qDA4BR,IAAD,OACL,OACI,sBAAKK,UAAU,YAAf,UACI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,aAAaC,IAAI,sCAAsCC,IAAI,kBAE9E,sBAAKF,UAAU,WAAf,UACCG,KAAKhB,MAAMQ,SAASC,UACjB,cAAC,IAAD,CAAUQ,GAAID,KAAKhB,MAAMQ,WAEzB,cAAC,IAAD,CAAKU,UAAW,EAAGL,UAAU,mBAA7B,SACA,uBACAA,UAAU,YADV,UAGA,oBAAIA,UAAU,cAAd,yBACsB,IAArBG,KAAKhB,MAAMY,OACR,oBAAIC,UAAU,aAAd,6CAIA,uBACAA,UAAU,aACVM,YAAY,WACZC,KAAK,WACLC,KAAK,OACLC,MAAON,KAAKhB,MAAMC,SAClBsB,SAAU,SAAC5B,GAAD,OAAO,EAAKY,SAAS,CAACN,SAAUN,EAAE6B,OAAOF,WAEnD,uBACAT,UAAU,aACVM,YAAY,WACZC,KAAK,WACLC,KAAK,WACLC,MAAON,KAAKS,cACZF,SAAU,SAAC5B,GAAD,OAAO,EAAKY,SAAS,CAACL,SAAUP,EAAE6B,OAAOF,WAEnD,uBACAT,UAAU,aACVQ,KAAK,SACLC,MAAM,UACNI,QAAS,SAAC/B,GAAD,OAAO,EAAKD,OAAOC,qB,GAxEhCgC,IAAMC,YAApBpC,EAEKqC,YAAcC,IAiFVtC","file":"static/js/11.d7e0ddec.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport AuthService from '../../../Utils/Auth/AuthService';\r\nimport UserContext from '../../Context/UserContext'\r\n\r\nimport './Login.css';\r\n\r\nclass Login extends React.Component {\r\n\r\n    static contextType = UserContext;\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            error: '',\r\n            redirect: {}\r\n        }\r\n    }\r\n\r\n    signIn = async(e) => {\r\n        e.preventDefault();\r\n        let res = await AuthService.login(this.state.username, this.state.password);\r\n        if (res.token) {\r\n            this.context.setAuth(true);\r\n            this.setState({\r\n                redirect: {\r\n                    pathname: '/dashboard/campaigns', \r\n                    state: {from: this.props.location}\r\n                }\r\n            });\r\n        } else if (res.error){\r\n            this.setState({\r\n                error: true\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"LoginMain\">\r\n                <div className=\"LoginImageHolder\">\r\n                    <img className=\"LoginImage\" src=\"../../../../assets/images/login.png\" alt='LoginDesign' />\r\n                </div>\r\n                <div className=\"LoginBox\">\r\n                {this.state.redirect.pathname &&\r\n                    <Redirect to={this.state.redirect} />\r\n                }\r\n                    <Box boxshadow={2} className=\"LoginFormWrapper\">\r\n                    <form \r\n                    className=\"LoginForm\"\r\n                    >\r\n                    <h2 className=\"LoginHeader\"> SIGN IN! </h2>\r\n                    {this.state.error === true &&\r\n                        <h4 className=\"LoginError\">\r\n                        Incorrect username or password!\r\n                        </h4>\r\n                    }\r\n                        <input \r\n                        className=\"LoginInput\" \r\n                        placeholder=\"Username\" \r\n                        name=\"username\" \r\n                        type=\"text\"\r\n                        value={this.state.username}\r\n                        onChange={(e) => this.setState({username: e.target.value})}\r\n                        ></input>\r\n                        <input \r\n                        className=\"LoginInput\" \r\n                        placeholder=\"Password\" \r\n                        name=\"password\" \r\n                        type=\"password\"\r\n                        value={this.statepassword}\r\n                        onChange={(e) => this.setState({password: e.target.value})}\r\n                        ></input>\r\n                        <input \r\n                        className=\"LoginInput\" \r\n                        type=\"submit\" \r\n                        value=\"SIGN IN\"\r\n                        onClick={(e) => this.signIn(e)}\r\n                        ></input>\r\n                    </form>\r\n                    </Box>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Login;"],"sourceRoot":""}