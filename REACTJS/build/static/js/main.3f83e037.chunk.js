(this["webpackJsonpsynth-react"]=this["webpackJsonpsynth-react"]||[]).push([[4],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n.n(a).a.createContext(!0),r=o.Provider;o.Consumer;t.b=o},17:function(e,t,n){"use strict";var a=n(12),o=n(11),r=n(29),s=n.n(r),c=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return s.a.post("http://localhost:5000/api/v1/auth/login",{username:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})).catch((function(e){return e}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}();t.a=new c},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n.n(a).a.createContext(!0),r=o.Provider;o.Consumer;t.b=o},31:function(e,t,n){"use strict";var a=n(1);n(0);t.a=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"LoaderWrapper",children:[Object(a.jsx)("span",{className:"Loader",children:Object(a.jsx)("span",{className:"LoaderInner"})}),Object(a.jsx)("h2",{className:"LoaderTitle",align:"center",children:e.title?e.title:"LOADING . . ."})]})})})}},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),r=n.n(o),s=n(23),c=n.n(s),i=n(9),u=n(12),l=n(11),h=n(22),d=n(21),m=n(14),j=n(2),b=n(20),p=n(13),f=function(e){var t=e.Component,n=Object(b.a)(e,["Component"]),r=Object(o.useContext)(p.b);return Object(a.jsx)(j.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return r.isAuth?Object(a.jsx)(t,Object(i.a)({},e)):Object(a.jsx)(j.a,{to:{pathname:"/",state:{from:e.location}}})}}))},O=n(17),g=n(30),x=n(31),y=(n(68),r.a.lazy((function(){return n.e(12).then(n.bind(null,201))}))),v=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11),n.e(13)]).then(n.bind(null,202))})),C=r.a.lazy((function(){return n.e(14).then(n.bind(null,213))})),S=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(7)]).then(n.bind(null,230))})),k=r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(8)]).then(n.bind(null,234))})),L=r.a.lazy((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,226))})),A=r.a.lazy((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,227))})),P=r.a.lazy((function(){return Promise.all([n.e(1),n.e(3),n.e(9),n.e(10)]).then(n.bind(null,229))})),I=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).toggleTheme=function(){"light"===a.state.theme?(a.setState({theme:"dark"},(function(){document.body.classList.add("dark"),document.body.classList.remove("light")})),localStorage.setItem("theme","dark")):(a.setState({theme:"light"},(function(){document.body.classList.add("light"),document.body.classList.remove("dark")})),localStorage.setItem("theme","light"))},a.setAuth=function(e){e||O.a.logout(),a.setState({isAuth:e})},a.getPreferedTheme=function(){if(window.matchMedia)return window.matchMedia("(prefers-color-scheme: dark)")},a.state={isAuth:!0,theme:"light"},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){O.a.getCurrentUser()&&this.setState({isAuth:!0});var e=localStorage.getItem("theme");"theme"in localStorage?this.setState({theme:e},(function(){document.body.classList.add(e)})):this.getPreferedTheme?this.setState({theme:"dark"},(function(){document.body.classList.add("dark")})):this.setState({theme:"light"},(function(){document.body.classList.add("light")}))}},{key:"render",value:function(){var e=this.state.theme,t=this.toggleTheme,n=this.state.isAuth,r=this.setAuth;return Object(a.jsx)(g.a,{value:{theme:e,toggleTheme:t},children:Object(a.jsx)(p.a,{value:{isAuth:n,setAuth:r},children:Object(a.jsx)(m.a,{children:Object(a.jsx)(o.Suspense,{fallback:Object(a.jsx)(x.a,{}),children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(y,Object(i.a)({},e))}}),Object(a.jsx)(j.b,{path:"/login",render:function(e){return Object(a.jsx)(v,Object(i.a)({},e))}}),Object(a.jsx)(j.b,{path:"/logout",render:function(e){return Object(a.jsx)(C,Object(i.a)({},e))}}),Object(a.jsx)(f,{path:"/campaigns",Component:S,dashboard:"campaigns"}),Object(a.jsx)(f,{path:"/templates",Component:S,dashboard:"templates"}),Object(a.jsx)(f,{path:"/audience",Component:S,dashboard:"audience"}),Object(a.jsx)(f,{path:"/automation",Component:S,dashboard:"automation"}),Object(a.jsx)(f,{path:"/forms",Component:S,dashboard:"forms"}),Object(a.jsx)(f,{path:"/analytics",Component:S,dashboard:"analytics"}),Object(a.jsx)(f,{path:"/campaign/edit",Component:k}),Object(a.jsx)(f,{path:"/campaign/analytics",Component:L}),Object(a.jsx)(f,{path:"/campaign/send",Component:A}),Object(a.jsx)(f,{path:"/template/edit",Component:P})]})})})})})}}]),n}(r.a.Component);c.a.render(Object(a.jsx)(I,{}),document.getElementById("root"))}},[[69,5,6]]]);
//# sourceMappingURL=main.3f83e037.chunk.js.map