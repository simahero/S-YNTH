{"version":3,"sources":["Components/Context/UserContext.js","Utils/Auth/AuthService.js","Components/UI/LoadingScreen.js","Components/Auth/ProtectedRoute.js","App.js","index.js"],"names":["UserContext","React","createContext","UserProvider","Provider","Consumer","AuthService","username","password","axios","post","API_URL","then","res","data","token","localStorage","setItem","JSON","stringify","catch","error","removeItem","parse","getItem","LoadingScreen","className","align","ProtectedRoute","Component","rest","context","useContext","render","props","isAuth","to","pathname","state","from","location","Home","lazy","Login","Logout","Edit","Dashboard","CampaignAnalytics","CreateCampaign","CreateTemplate","CreateAudience","App","setAuth","logout","setState","getCurrentUser","this","value","fallback","exact","path","dashboard","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25cac89b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst UserContext = React.createContext(true);\r\n\r\nexport const UserProvider = UserContext.Provider;\r\nexport const UserConsumer = UserContext.Consumer;\r\n\r\nexport default UserContext;","import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api/v1/auth';\r\n\r\nclass AuthService {\r\n\r\n    login(username, password){\r\n        return axios\r\n            .post(API_URL + '/login', {\r\n                username : username,\r\n                password: password\r\n            })\r\n            .then (res => {\r\n                if (res.data.token){\r\n                    localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n                }\r\n            return res.data;\r\n            }).catch (error => {\r\n                return(error);\r\n            })\r\n    }\r\n\r\n    logout(){\r\n        localStorage.removeItem(\"user\");\r\n    }\r\n\r\n    getCurrentUser () {\r\n        return (JSON.parse(localStorage.getItem(\"user\")));\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthService();","import React from 'react';\r\nimport './LoadingScreen.css';\r\n\r\nconst LoadingScreen = () => {\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"loader-wrapper\">\r\n                    <span className=\"loader\"><span className=\"loader-inner\"></span></span>\r\n                </div>\r\n            </div>\r\n            <h1 align=\"center\">LOADING . . .</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingScreen;","import React, {useContext} from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport UserContext from '../Context/UserContext'\r\n\r\n\r\nconst ProtectedRoute = ( {Component, ...rest} ) => {\r\n\r\n    const context = useContext(UserContext);\r\n\r\n    return <Route {...rest} render={props => {\r\n        if (context.isAuth){\r\n            return <Component {...props} />\r\n        } else {\r\n            return <Redirect to={{pathname: '/', state: {from: props.location}}} />\r\n        }\r\n    }} />\r\n}\r\n\r\nexport default ProtectedRoute;","import React, { Suspense } from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport ProtectedRoute from './Components/Auth/ProtectedRoute';\n\nimport AuthService from './Utils/Auth/AuthService';\nimport { UserProvider } from './Components/Context/UserContext';\nimport LoadingScreen from './Components/UI/LoadingScreen';\n\nconst Home = React.lazy( () => import('./Components/Pages/Home/Home'))\nconst Login = React.lazy( () => import('./Components/Pages/Login/Login'))\nconst Logout = React.lazy( () => import('./Components/Pages/Login/Logout'))\nconst Edit = React.lazy( () => import('./Components/Pages/Edit/EditMail/Edit'))\nconst Dashboard = React.lazy( () => import('./Components/Pages/Dashboard/Dashboard'))\n\nconst CampaignAnalytics = React.lazy( () => import('./Components/Pages/SinglePages/CampaignAnalytics'))\n\nconst CreateCampaign = React.lazy( () => import('./Components/Pages/Create/CreateCampaign'))\nconst CreateTemplate = React.lazy( () => import('./Components/Pages/Create/CreateTemplate'))\nconst CreateAudience = React.lazy( () => import('./Components/Pages/Create/CreateAudience'))\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuth: false\n    }\n  }\n\n  setAuth = (isAuth) => {\n    if (!isAuth) {\n      AuthService.logout();\n    }\n    this.setState({\n      isAuth: isAuth\n    })\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        isAuth: true\n      });\n    }\n  }\n\n  render() {\n    const { isAuth } = this.state;\n    const { setAuth } = this;\n\n    return (\n      <UserProvider value={{ isAuth: isAuth, setAuth: setAuth }}>\n        <Router>\n          <Suspense fallback={<LoadingScreen />}>\n            <Switch>\n\n              <Route exact path=\"/\" render={(props) => <Home {...props} />} />\n              <Route path=\"/login\" render={(props) => <Login {...props} />} />\n              <Route path=\"/logout\" render={(props) => <Logout {...props} />} />\n              <Route path=\"/edit\" render={(props) => <Edit {...props} />} />\n\n              {/* CREATE ROUTES */}\n              <ProtectedRoute path='/create/campaign' Component={CreateCampaign} />\n              <ProtectedRoute path='/create/template' Component={CreateTemplate} />\n              <ProtectedRoute path='/create/audience' Component={CreateAudience} />\n\n              {/* DASHBOARD ROUTES */}\n              <ProtectedRoute path='/campaigns' Component={Dashboard} dashboard={'campaigns'} />\n              <ProtectedRoute path='/templates' Component={Dashboard} dashboard={'templates'} />\n              <ProtectedRoute path='/audience' Component={Dashboard} dashboard={'audience'} />\n              <ProtectedRoute path='/automation' Component={Dashboard} dashboard={'automation'} />\n              <ProtectedRoute path='/forms' Component={Dashboard} dashboard={'forms'} />\n              <ProtectedRoute path='/analytics' Component={Dashboard} dashboard={'analytics'} />\n\n              {/* SINGEE ROUTES */}\n              <ProtectedRoute path='/campaign/analytics' Component={CampaignAnalytics} />\n\n            </Switch>\n          </Suspense>\n        </Router>\n      </UserProvider>\n    );\n  }\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}